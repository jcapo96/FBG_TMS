import read_files
import pandas as pd
import json

path_to_data = "/eos/user/j/jcapotor/FBGdata/Data/camara_climatica/MarchRuns/20230321/"
path_to_split = "/eos/user/j/jcapotor/FBGana/camara_climatica/MarchRuns/20230321/"

list_of_files = pd.read_csv(path_to_data+"list_of_files.txt", header=None, names=["Filename"])
print(list_of_files)
for index, file in list_of_files.iterrows():
    filename = file["Filename"]
    if filename != "topology.json":
        continue
    f = open(path_to_data+filename)
    data = json.load(f)
    print(data.keys())
    print(data["Channels"][0])

# data = read_files.read_spectrums(
#    path_to_data=path_to_data,
#    filename="spectrums_2.txt",
#    path_to_save_folder=path_to_split,
#    channels=[0],
#    n_sensors=[4],
#    wl_positions=[[1540,1545,1550,1555]]
# )

# data = read_files.read_spectrums(
#    path_to_data=path_to_data,
#    filename="spectrums_3.txt",
#    path_to_save_folder=path_to_split,
#    channels=[0],
#    n_sensors=[4],
#    wl_positions=[[1540,1545,1550,1555]]
# )

# data = read_files.read_peaks(
#    path_to_data=path_to_data,
#    filename="peaks_1.txt",
#    path_to_save_folder=path_to_split,
#    channels=[0],
#    n_sensors=[4]
# )

# data = read_files.read_temperature(
#    path_to_data=path_to_data,
#    filename="temperature.txt",
#    path_to_save_folder=path_to_split
# )

# data = read_files.read_peaks(
#    path_to_data=path_to_data,
#    filename="peaks_2.txt",
#    path_to_save_folder=path_to_split,
#    channels=[0],
#    n_sensors=[4]
# )

# for i in range(1,17):
#    data = read_files.read_spectrums(
#       path_to_data=path_to_data,
#       filename="Spectrums_"+str(i)+".bin",
#       path_to_save_folder=path_to_split,
#       channels=[0,1]
#    )

